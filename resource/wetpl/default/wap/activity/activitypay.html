<html>
<head>
    <meta charset="utf-8">
    <meta name="apple-touch-fullscreen" content="yes">
    <meta name="viewport" content="width=device-width,height=device-height,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no">
    <title>活动支付</title>
    <link rel="stylesheet" href="{{PATH_TML}}css/home.css"/>
    <link rel="stylesheet" href="{{PATH_TML}}css/activity-detail.css"/>
</head>
<body>
    <div id="app">
        <ul class="header">
            <li>¥{{total}}</li>
            <li><img :src="ApiMaterPlatQiniuDomain + activity.cover" width="60" height="60" /></li>
            <li>{{activity.title}}</li>
        </ul>
        <div class="pay">
            <ul>
                <li>
                    <img src="{{PATH_TML}}img/pay_wechat.png" width="24" height="24"/>
                    <span>微信支付</span>
                </li>
                <li>
                    <img src="{{PATH_TML}}img/icon_radio_checked.png" width="24" height="24"/>
                </li>
            </ul>
        </div>
        <div class="sure">
            确认支付
        </div>
    </div>
    <script src="{{PATH_TML}}activity/js/vue.min.js"></script>
    <script src="{{PATH_TML}}activity/js/jquery.min.js"></script>
    <script type="text/javascript" src="{{PATH_CONFIG}}"></script>
    <script>
        new Vue({
            el: "#app",
            data: {
                activity: JSON.parse(sessionStorage.getItem("activity_info")).data,
                tickets: JSON.parse(sessionStorage.getItem("tickets")),
                total: 0,
                cover: '',
            },
            created() {
                this.tickets.filter(x => x.num != 0).map(x => this.total += x.num * x.price);
            },
            methods: {

            }
        })
    </script>
</body>
</html>